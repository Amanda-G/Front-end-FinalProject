<form #locationForm="ngForm" (ngSubmit)="search(locationForm)">
  <label for="locationText" class="label">Where is your date?</label>
  <input
    type="text"
    class="input"
    id="locationText"
    name="locationText"
    placeholder="Enter City, State"
    ngModel
    required
  />
  <button class="label button">S e a r c h</button>
</form>

<button (click)="showIceBreakers()">Ice Breakers</button>
<div *ngIf="showIceBreakersList">
  <button (click)="showJokes()">Jokes</button>
  <button (click)="showTrivia()">Trivia</button>
  <button (click)="showPersonal()">Personal</button>

  <div *ngIf="showJokeForm">
    <form #jokeForm="ngForm" (change)="getAllJokes(jokeForm)">
      <!-- <label for="jokes">Adult Joke?</label> -->
      <select name="jokes" id="jokes" ngModel="adult">
        <option value="adult">Adult Joke?</option>
        <option value="false">No</option>
        <option value="true">Yes</option>
      </select>
    </form>
    <div *ngIf="showJokeText">
      <p>{{ randomJoke?.prompt }}</p>
      <p>{{ randomJoke?.answer }}</p>
      <button (click)="getAllJokes(jokeForm)">Get a New Joke!</button>
    </div>
  </div>

  <div *ngIf="showTriviaForm">
    <form #triviaForm="ngForm" (change)="getAllTrivia(triviaForm)">
      <!-- <label for="trivia">Choose Category</label> -->
      <select name="trivia" id="trivia" ngModel="">
        <option value="">Choose Category</option>
        <option value="miscellaneous" selected>Miscellaneous</option>
        <option value="history">History</option>
        <option value="geography">Geography</option>
        <option value="science">Science</option>
      </select>
    </form>

    <div *ngIf="showTriviaText">
      <p>Q: {{ randomTrivia?.question }}</p>
      <p>A: {{ randomTrivia?.answer }}</p>
      <button (click)="getAllTrivia(triviaForm)">Get Trivia</button>
    </div>
  </div>

  <!-- **************************************** -->
  <!-- on change it will run the function, vs onSubmit which requires clicking enter or a submit button -->
  <!-- focus must be taken away from an input field for it to consider it as a change, and then run the function defined -->
  <div *ngIf="showIntimateForm">
    <form #intimateForm="ngForm" (change)="getAllIntimate(intimateForm)">
      <!-- <label for="intimate">Choose Intimacy Level</label> -->
      <select name="intimate" id="intimate" ngModel="">
        <option value="">Intimacy Level</option>
        <option value="level1">Level 1</option>
        <option value="level2">Level 2</option>
        <option value="level3">Level 3</option>
      </select>
    </form>

    <div *ngIf="showIntimateText">
      <p>{{ randomIntimate?.question }}</p>
      <button (click)="getAllIntimate(intimateForm)">Get New Topic</button>
    </div>
  </div>
</div>

<div>
  <button (click)="showMovies()">Movies</button>
  <ul class="movies-container" *ngIf="showMovieList">
    <li *ngFor="let movie of moviesList; index as i" class="movie">
      <img
        src="https://image.tmdb.org/t/p/w500/{{ movie.poster_path }}"
        alt="movie poster"
        class="movie-poster"
      />
      <p>{{ movie.title }}</p>
      <p>{{ movie.overview }}</p>
    </li>
  </ul>
</div>

<div>
  <button (click)="showRestaurants()">Restaurants</button>
  <ul class="restaurants" *ngIf="showRestaurantList">
    <li *ngFor="let item of restaurantsFiltered">
      <a href="{{ item.website }}">{{ item.name }}</a>
      <p>{{ item.address }}</p>
    </li>
  </ul>
</div>

<div>
  <button (click)="hideBeer()">Find Craft Beer</button>
  <div *ngIf="show">
    <h1>{{ beer?.data.name }}</h1>
    <h2>{{ beer?.data.style.name }}</h2>
    <h3>{{ beer?.data.abv }}</h3>
    <p>{{ beer?.data.style.description }}</p>
    <button (click)="getBeer()">Hide</button>
  </div>
</div>
<button (click)="showActivities()">Activity</button>
<div *ngIf="showActivityForm">
  <form #activityForm="ngForm" (change)="getActivities(activityForm)">
    <!-- <label for="activities">Select an activity</label> -->
    <select name="activities" id="activities" ngModel="">
      <option value="">Select Activity</option>
      <option value="amusement park">Amusement Park</option>
      <option value="aquarium">Aquarium</option>
      <option value="art museum">Art Museum</option>
      <option value="beach">Beach</option>
      <option value="billiards">Billiards</option>
      <option value="bowling_alley">Bowling Alley</option>
      <option value="campground">Campground</option>
      <option value="casino">Casino</option>
      <option value="golf course">Golf Course</option>
      <option value="history museum">History Museum</option>
      <option value="nature reserve">Nature Reserve</option>
      <option value="park">Park</option>
      <option value="science museum">Science Museum</option>
      <option value="swimming pool">Swimming Pool</option>
      <option value="tourist attraction">Tourist Attraction</option>
      <option value="zoo">Zoo</option>
    </select>
  </form>

  <ul>
    <li *ngFor="let activity of activities">
      <p>{{ activity.attributes.PlaceName }}</p>
      <p>{{ activity.attributes.Place_Addr }}</p>
      <!-- <p>{{ activity.attributes.City }}</p> -->
      <!-- <p>{{ activity.attributes.Region }}</p> -->
    </li>
  </ul>
</div>
